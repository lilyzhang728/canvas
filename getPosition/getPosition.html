<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>获取鼠标点击位置相对于canvas画布位置</title>
</head>
<body>
	<canvas id="mycanvas" width="700px" height="500px" style="border: 1px solid #000;margin-left: 400px"></canvas>

	<script type="text/javascript">
		var c=document.getElementById("mycanvas");
		var ctx=c.getContext("2d");

		function writeMessage(ctx,msg){
			ctx.clearRect(0,0,c.width,c.height);
			ctx.font='18pt Calibri';
			ctx.fillStyle="black";
			ctx.fillText(msg,10,25);
		}

		function getMousePos(c,e){
			var rect=c.getBoundingClientRect();
			return {
				x:e.clientX-rect.left,
				y:e.clientY-rect.top
			}
		}

		c.addEventListener('mousemove',function(e){
			var mousePos=getMousePos(c,e);
			var message='Mouse position:'+mousePos.x + ',' + mousePos.y;
			writeMessage(ctx,message);
		},false)
	</script>
</body>
</html>